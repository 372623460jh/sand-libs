"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addDemoRoute = addDemoRoute;
exports.default = void 0;

function _react() {
  const data = _interopRequireDefault(require("react"));

  _react = function _react() {
    return data;
  };

  return data;
}

function _path() {
  const data = _interopRequireDefault(require("path"));

  _path = function _path() {
    return data;
  };

  return data;
}

var _getRouteConfigFromDir = require("./getRouteConfigFromDir");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const singleRouteDemoSet = {};
const demoPathNames = {};

function addDemoRoute(filePath) {
  const demoPathName = (0, _getRouteConfigFromDir.normalizePath)(_path().default.parse(filePath).name);

  if (!singleRouteDemoSet[filePath]) {
    singleRouteDemoSet[filePath] = `/_demos/${demoPathName}${// handle same demo name files
    demoPathNames[demoPathName] ? `-${demoPathNames[demoPathName]}` : ''}`;
    demoPathNames[demoPathName] = (demoPathNames[demoPathName] || 0) + 1;
  }

  return singleRouteDemoSet[filePath];
}

var _default = paths => Object.entries(singleRouteDemoSet).map(([filePath, routePathName]) => ({
  path: routePathName,
  component: _path().default.relative(_path().default.join(paths.absTmpPath, 'core'), filePath)
}));

exports.default = _default;